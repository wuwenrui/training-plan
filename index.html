<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æˆ‘çš„å¢è‚Œè®­ç»ƒè®¡åˆ’ | æ¯æ—¥æŸ¥çœ‹ä¸å¯¼å…¥</title>
  <style>
    :root{
      --bg: #0b1020;
      --card: #121831;
      --muted: #9fb0ff;
      --text: #e9edff;
      --sub: #c9d2ff;
      --accent: #6fa3ff;
      --accent-2:#7ef0c4;
      --border: #25305a;
      --chip:#1a2242;
      --good:#89f0a9;
      --warn:#ffd166;
    }
    .light{
      --bg:#f7f9ff; --card:#ffffff; --text:#0f1a3a; --sub:#33406a; --muted:#5060a8;
      --accent:#2b6cff; --accent-2:#0aa57a; --border:#dfe6ff; --chip:#eef2ff; --good:#0aa57a; --warn:#b98200;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, PingFang SC, Noto Sans CJK SC, Helvetica, Arial, "Microsoft Yahei", "Hiragino Sans GB", sans-serif;background:var(--bg);color:var(--text);}
    a{color:var(--accent)} a:hover{text-decoration:underline}
    .app{display:grid;grid-template-columns:280px 1fr;min-height:100vh}
    aside{border-right:1px solid var(--border);background:linear-gradient(180deg, rgba(255,255,255,.02), transparent), var(--card);position:sticky;top:0;height:100vh}
    header{position:sticky;top:0;z-index:9;background:linear-gradient(180deg, rgba(0,0,0,.2), rgba(0,0,0,0));backdrop-filter:saturate(120%) blur(6px);}
    .brand{display:flex;align-items:center;gap:.6rem;padding:1rem 1.25rem;border-bottom:1px solid var(--border)}
    .logo{width:28px;height:28px;border-radius:8px;background:conic-gradient(from 220deg, var(--accent), var(--accent-2));box-shadow:0 0 0 2px #0003}
    .brand h1{font-size:1.05rem;margin:0}
    .toolbar{display:flex;flex-wrap:wrap;gap:.5rem;padding:.75rem 1rem;border-bottom:1px solid var(--border)}
    .toolbar .btn{appearance:none;border:1px solid var(--border);background:var(--card);color:var(--text);padding:.55rem .7rem;border-radius:10px;cursor:pointer;display:inline-flex;align-items:center;gap:.45rem;font-size:.92rem}
    .btn:hover{border-color:var(--accent);box-shadow:0 0 0 3px color-mix(in oklab, var(--accent) 20%, transparent)}
    .btn.primary{background:linear-gradient(180deg, color-mix(in oklab, var(--accent) 26%, transparent), transparent);border-color:color-mix(in oklab, var(--accent) 40%, var(--border))}
    .btn.ghost{background:transparent}
    .toolbar input[type="search"]{flex:1 1 280px;min-width:180px;border:1px solid var(--border);background:var(--card);color:var(--text);border-radius:10px;padding:.55rem .75rem;font-size:.95rem}
    .days{padding:1rem;display:flex;flex-direction:column;gap:.5rem}
    .day-btn{width:100%;text-align:left;border:1px solid var(--border);background:var(--chip);color:var(--text);padding:.75rem .8rem;border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:space-between}
    .day-btn small{opacity:.8;color:var(--sub)}
    .day-btn.active{border-color:var(--accent);box-shadow:0 0 0 3px color-mix(in oklab, var(--accent) 18%, transparent)}
    main{padding-bottom:8rem}
    .wrap{max-width:1100px;margin:0 auto;padding:0 1rem 2rem}
    .headline{display:flex;flex-wrap:wrap;align-items:center;gap:.8rem;padding:1rem 0 0}
    .headline h2{font-size:1.6rem;margin:.2rem 0}
    .chip{display:inline-flex;align-items:center;gap:.35rem;background:var(--chip);border:1px solid var(--border);color:var(--sub);padding:.25rem .55rem;border-radius:999px;font-size:.82rem}
    .section{margin:1rem 0;border:1px solid var(--border);border-radius:16px;background:var(--card);overflow:hidden}
    .section h3{margin:0;padding:1rem 1rem;border-bottom:1px solid var(--border);font-size:1.02rem;color:var(--muted);letter-spacing:.02em}
    .content{padding:1rem}
    .grid{display:grid;grid-template-columns:repeat(1, minmax(0,1fr));gap:12px}
    @media (min-width:720px){.grid{grid-template-columns:repeat(2, minmax(0,1fr))}}
    @media (min-width:1024px){.grid{grid-template-columns:repeat(3, minmax(0,1fr))}}
    .ex-card{border:1px solid var(--border);border-radius:14px;padding:12px;background:linear-gradient(180deg, rgba(255,255,255,.02), transparent), var(--card);display:flex;flex-direction:column;gap:8px}
    .ex-top{display:flex;gap:.6rem;align-items:center}
    .check{width:20px;height:20px;border-radius:6px;border:1px solid var(--border);display:inline-grid;place-items:center;cursor:pointer;background:var(--bg)}
    .check.done{background:var(--good);border-color:color-mix(in oklab, var(--good) 70%, #000)}
    .title{font-weight:700}
    .meta{display:flex;flex-wrap:wrap;gap:.4rem .6rem;color:var(--sub);font-size:.86rem}
    .muscles{display:flex;flex-wrap:wrap;gap:.35rem}
    .muscles .m{font-size:.78rem;background:var(--chip);border:1px solid var(--border);padding:.18rem .45rem;border-radius:999px;color:var(--text)}
    .cues{margin:.25rem 0 0;padding-left:1.1rem}
    .cues li{margin:.2rem 0}
    .links{display:flex;align-items:center;gap:.6rem;margin-top:.25rem}
    .links a{font-size:.9rem}
    .muted{color:var(--sub)}
    .foot{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem;justify-content:space-between;padding:1rem 0}
    .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-size:.86rem;background:var(--chip);border:1px dashed var(--border);padding:.1rem .4rem;border-radius:6px;color:var(--sub)}
    .badges{display:flex;gap:.45rem;flex-wrap:wrap}
    .badge{border:1px solid var(--border);background:var(--chip);padding:.2rem .5rem;border-radius:999px;font-size:.78rem;color:var(--sub)}
    .divider{height:1px;background:var(--border);margin:.75rem 0}
    .sp{height:10px}
    .empty{opacity:.7}

    /* print */
    @media print{
      .app{display:block}
      aside, header, .toolbar{display:none!important}
      body{background:#fff;color:#000}
      .section{break-inside:avoid}
      a::after{content:" (" attr(href) ")";font-size:.8em;color:#444}
    }
  </style>
</head>
<body>
  <div class="app">
    <aside>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1>å¢è‚Œè®­ç»ƒè®¡åˆ’</h1>
      </div>
      <div class="toolbar">
        <button class="btn primary" id="importBtn" title="å¯¼å…¥ JSON è®¡åˆ’"><span>ğŸ“¥</span> å¯¼å…¥è®¡åˆ’</button>
        <input type="file" id="filePicker" accept="application/json" hidden>
        <button class="btn" id="exportBtn" title="å¯¼å‡ºå½“å‰è®¡åˆ’ JSON"><span>ğŸ“¤</span> å¯¼å‡º</button>
        <button class="btn" id="printBtn" title="æ‰“å°æˆ–ä¿å­˜ä¸º PDF"><span>ğŸ–¨ï¸</span> æ‰“å°</button>
        <button class="btn ghost" id="themeBtn" title="åˆ‡æ¢æ˜/æš—è‰²"><span>ğŸŒ“</span> ä¸»é¢˜</button>
        <input id="search" type="search" placeholder="æœç´¢åŠ¨ä½œ / å…³é”®å­—â€¦" />
      </div>
      <div class="days" id="dayList"></div>
    </aside>

    <main>
      <div class="wrap">
        <header class="headline">
          <h2 id="dayTitle">â€”â€”</h2>
          <span class="chip" id="metaChip">RIR 1â€“3 Â· å¤åˆ 90â€“120s ä¼‘æ¯ Â· å­¤ç«‹ 60â€“90s</span>
          <span class="chip">ç‚¹å‡» â˜ å‹¾é€‰åŠ¨ä½œï¼Œä¿å­˜äºæ­¤è®¾å¤‡</span>
        </header>

        <section class="section" id="warmupSec">
          <h3>çƒ­èº«</h3>
          <div class="content" id="warmup"></div>
        </section>

        <section class="section">
          <h3>åŠ›é‡è®­ç»ƒ</h3>
          <div class="content">
            <div class="grid" id="exerciseGrid"></div>
          </div>
        </section>

        <section class="section">
          <h3>å½“æ—¥æ‹‰ä¼¸ï¼ˆæ¯åŠ¨ä½œ 20â€“40 ç§’ Ã— 2 ç»„ï¼‰</h3>
          <div class="content" id="stretching"></div>
        </section>

        <section class="section">
          <h3>å½“æ—¥è¥å…»ä¸è¡¥æ°´</h3>
          <div class="content" id="nutrition"></div>
        </section>

        <div class="foot">
          <div class="badges">
            <span class="badge">åŒé‡è¿›é˜¶ï¼šè¾¾åŒºé—´ä¸Šé™ä¸”ä»æœ‰ä½™åŠ› â†’ ä¸‹æ¬¡æ¯æ‰‹ +1â€“2 kg</span>
            <span class="badge">è‹¥æ— æ›´é‡å“‘é“ƒ â†’ åŠ æ¬¡æ•° / å»¶é•¿ç¦»å¿ƒ / åº•éƒ¨åœé¡¿</span>
          </div>
          <div class="muted">æç¤ºï¼š<span class="kbd">Ctrl/âŒ˜ + P</span> å¯å¿«é€Ÿæ‰“å°ã€‚</div>
        </div>

      </div>
    </main>
  </div>

  <script>
    // â€”â€” æ•°æ®ç»“æ„ï¼šå¯å¯¼å…¥/å¯¼å‡º â€”â€”
    /**
     * è®¡åˆ’ JSON ç»“æ„è¯´æ˜ï¼ˆå¯¼å…¥æ–‡ä»¶éœ€ä¸æ­¤ä¸€è‡´ï¼‰ï¼š
     * {
     *   meta:{ title, updated },
     *   days:[
     *     {
     *       id:"D1", name:"Push Aï¼ˆèƒ¸/è‚©/ä¸‰å¤´ï¼‰",
     *       warmup:["â€¦"],
     *       exercises:[{title, sets:"4Ã—6â€“10", rir:"RIR 1â€“2", muscles:["ä¸»ï¼šèƒ¸ä¸­æŸ","è¾…ï¼šå‰ä¸‰è§’/è‚±ä¸‰å¤´"], cues:["â€¦"], links:[{label:"è§†é¢‘", href:"â€¦"}] }],
     *       stretching:["â€¦"],
     *       nutrition:["â€¦"]
     *     }, â€¦
     *   ]
     * }
     */

    const planData = {
      meta:{ title:"6 ç»ƒ 1 ä¼‘ Â· å¢è‚Œè®­ç»ƒè®¡åˆ’ï¼ˆå“‘é“ƒ/ä¿¯å§æ’‘æ¿/å‡³ï¼‰", updated:"v1" },
      days:[
        {
          id:"D1", name:"Push Aï¼ˆèƒ¸/è‚©/ä¸‰å¤´ï¼‰",
          warmup:["è½»æœ‰æ°§ 3â€“5â€² â†’ è‚©/èƒ¸åŠ¨æ€æ´»åŠ¨ â†’ å§æ¨åŠ¨ä½œçƒ­èº« 2 ç»„"],
          exercises:[
            { title:"å“‘é“ƒå¹³æ¿å§æ¨", sets:"4Ã—6â€“10", rir:"RIR 1â€“2", muscles:["ä¸»ï¼šèƒ¸ä¸­æŸ","è¾…ï¼šå‰ä¸‰è§’/è‚±ä¸‰å¤´"], cues:["è‚©èƒ›åç¼©ä¸‹æ²‰","è‚˜å¤–å±• 45â€“60Â°","2â€“3 ç§’ç¦»å¿ƒ + åº•åœ 1 ç§’","æ‰‹è…•ä¸­ç«‹ä¸åæŠ˜"] },
            { title:"ä¸Šæ–œå§æ¨ï¼ˆ30Â°ï¼‰", sets:"3Ã—8â€“12", rir:"", muscles:["ä¸»ï¼šèƒ¸ä¸ŠæŸ","è¾…ï¼šå‰ä¸‰è§’/è‚±ä¸‰å¤´"], cues:["è½ç‚¹åä¸Šèƒ¸","é¡¶ç«¯ä¸è¿‡ä¼¸ï¼Œé¿å…è‚©å‰ç§»"] },
            { title:"å®½æ¡ä¿¯å§æ’‘ï¼ˆä¿¯å§æ’‘æ¿ï¼‰", sets:"3Ã—12â€“15", rir:"", muscles:["ä¸»ï¼šèƒ¸å¤§è‚Œ","ç¨³ï¼šæ ¸å¿ƒ"], cues:["èº«ä½“ä¸€ç›´çº¿","æ…¢ç¦»å¿ƒ","èƒ¸é™è‡³æ‰‹æŸ„é«˜åº¦"] },
            { title:"åå§¿å“‘é“ƒè‚©ä¸Šæ¨ä¸¾", sets:"3Ã—6â€“10", rir:"", muscles:["ä¸»ï¼šä¸‰è§’è‚Œå‰/ä¸­æŸ","è¾…ï¼šè‚±ä¸‰å¤´"], cues:["è‚©ä¸‹æ²‰ä¸è€¸","æ‰‹è…•ä¸­ç«‹","ä¸Šæ¨è‡³è€³æ—ä½"] },
            { title:"ä¾§å¹³ä¸¾", sets:"3Ã—12â€“15", rir:"", muscles:["ä¸»ï¼šä¸‰è§’è‚Œä¸­æŸ"], cues:["è‚˜ç•¥é«˜äºè…•","åˆ°è‚©é«˜å³åœ","é¡¶ç«¯åœ 1 s"] },
            { title:"ä»°å§å“‘é“ƒè‡‚å±ˆä¼¸ï¼ˆå¤´åï¼‰", sets:"3Ã—10â€“12", rir:"", muscles:["ä¸»ï¼šè‚±ä¸‰å¤´é•¿å¤´"], cues:["ä¸Šè‡‚å°½é‡å‚ç›´","åªä¼¸è‚˜","ç¦»å¿ƒæ…¢"] },
          ],
          stretching:["é—¨æ¡†èƒ¸è‚Œï¼ˆå¤šè§’åº¦ï¼‰","ä¸Šèƒ¸æ–œè§’æ‹‰ä¼¸","è‚±ä¸‰å¤´è¿‡é¡¶æ‹‰ä¼¸","å‰ä¸‰è§’/èƒ¸å°è‚Œæ”¾æ¾","é¢ˆæ–œæ–¹è½»ç‰µå¼•"],
          nutrition:[
            "è®­ç»ƒå 0â€“30 åˆ†é’Ÿï¼šä¹³æ¸… 1 å‹º + å¿«ç¢³ 30â€“50 gï¼ˆé¦™è•‰/é¢åŒ…/ç±³é¥¼ï¼‰",
            "1â€“2 å°æ—¶ï¼šé¸¡èƒ¸ 150â€“200 g + ä¸»é£Ÿ 80â€“120 g + å¥åº·è„‚è‚ª 10â€“15 g",
            "è¡¥æ°´ 500â€“700 mlï¼›å¯è‚Œé…¸ 5 g/å¤©"
          ]
        },
        {
          id:"D2", name:"Pull Aï¼ˆèƒŒ/äºŒå¤´/åæŸï¼‰",
          warmup:["ä¸ŠèƒŒ/è‚©èƒ›æ¿€æ´» â†’ åˆ’èˆ¹çƒ­èº«"],
          exercises:[
            { title:"å•è‡‚å“‘é“ƒåˆ’èˆ¹", sets:"4Ã—8â€“12/ä¾§", rir:"", muscles:["ä¸»ï¼šèƒŒé˜”/ä¸­ä¸‹æ–œæ–¹","è¾…ï¼šåæŸ/è‚±äºŒå¤´"], cues:["å…ˆæ”¶è‚©èƒ›å†å¼¯è‚˜","å‘é«‹éƒ¨æ‹‰","ç¦»å¿ƒæœ‰æ‹‰ä¼¸æ„Ÿ"], links:[{label:"åŠ¨ä½œç¤ºèŒƒè§†é¢‘", href:"https://www.bilibili.com/video/BV1Va411o7Mc/?spm_id_from=333.337.search-card.all.click&vd_source=134f9d94571b085ae89e25052eb145e9"}] },
            { title:"èƒ¸æ‰˜å“‘é“ƒåˆ’èˆ¹", sets:"3Ã—10â€“12", rir:"", muscles:["ä¸»ï¼šä¸­èƒŒï¼ˆè±å½¢/æ–œæ–¹ï¼‰","è¾…ï¼šèƒŒé˜”/åæŸ"], cues:["èƒ¸éª¨é¡¶å‡³ã€è„ŠæŸ±ä¸­ç«‹","é¡¶ç«¯å¤¹è‚©èƒ› 1 s"], links:[{label:"åŠ¨ä½œç¤ºèŒƒè§†é¢‘", href:"https://www.bilibili.com/video/BV1vU411o7ba/?spm_id_from=333.337.search-card.all.click&vd_source=134f9d94571b085ae89e25052eb145e9"}] },
            { title:"å“‘é“ƒä¸Šæ‹‰ï¼ˆPulloverï¼‰", sets:"3Ã—10â€“12", rir:"", muscles:["ä¸»ï¼šèƒŒé˜”","è¾…ï¼šèƒ¸ä¸‹æŸ"], cues:["è‚˜å¾®å±ˆå›ºå®š","èƒ¸ä¸Šâ†’è€³åæ‹‰ä¼¸","å›ç¨‹ç”¨èƒŒé˜”å¸¦å›"], links:[{label:"åŠ¨ä½œç¤ºèŒƒè§†é¢‘", href:"https://www.bilibili.com/video/BV1tm4y1s7Np/?spm_id_from=333.337.search-card.all.click&vd_source=134f9d94571b085ae89e25052eb145e9"}] },
            { title:"ä¿¯å§åæŸé£é¸Ÿ", sets:"3Ã—12â€“15", rir:"", muscles:["ä¸»ï¼šä¸‰è§’è‚ŒåæŸ","è¾…ï¼šè±å½¢/æ–œæ–¹ä¸­ä¸‹"], cues:["æŠ±å¤§æ ‘å¼§çº¿å¤–å±•","é¡¶ç«¯æŒ¤å‹ 1 s"], links:[{label:"åŠ¨ä½œç¤ºèŒƒè§†é¢‘", href:"https://www.bilibili.com/video/BV1X441157ET/?spm_id_from=333.337.search-card.all.click&vd_source=134f9d94571b085ae89e25052eb145e9"}] },
            { title:"é”¤å¼å¼¯ä¸¾ï¼ˆä½ å†™â€˜å‚å¼å¼¯ä¸¾â€™ï¼‰", sets:"3Ã—10â€“12", rir:"", muscles:["ä¸»ï¼šè‚±è‚Œ/è‚±æ¡¡è‚Œ","è¾…ï¼šè‚±äºŒå¤´"], cues:["ä¸­ç«‹æ¡ã€è‚˜è´´èº«","ä¸‹æ”¾ 2â€“3 s"] },
            { title:"æ—‹åå¼¯ä¸¾", sets:"2Ã—12â€“15", rir:"", muscles:["ä¸»ï¼šè‚±äºŒå¤´"], cues:["å‘ä¸Šæ—‹åè‡³æŒå¿ƒæœä¸Š","é¡¶å³°åœ 1 s"], links:[{label:"åŠ¨ä½œç¤ºèŒƒè§†é¢‘", href:"https://www.bilibili.com/video/BV18U79zcEwg/?spm_id_from=333.337.search-card.all.click&vd_source=134f9d94571b085ae89e25052eb145e9"}] },
          ],
          stretching:["èƒŒé˜”â€˜å©´å„¿å¼â€™","ç©¿é’ˆå¼•çº¿ï¼ˆèƒ¸æ¤æ—‹è½¬ï¼‰","èƒ¸æ¤æ¸©å’Œä¼¸å±•","äºŒå¤´è‚Œå¢™é¢æ‹‰ä¼¸","å‰è‡‚å±ˆ/ä¼¸è‚Œæ‹‰ä¼¸"],
          nutrition:[
            "ä¹³æ¸… 1 å‹º + å¿«ç¢³ 30â€“50 g",
            "æ­£é¤ï¼šé¸¡èƒ¸ 150â€“200 g + ä¸»é£Ÿ 80â€“120 g + è„‚è‚ª 10 g",
            "å¤§é‡å‡ºæ±—å¯åŠ ç”µè§£è´¨"
          ]
        },
        {
          id:"D3", name:"Legs A & æ ¸å¿ƒ",
          warmup:["é«‹/è¸/è†åŠ¨æ€ â†’ ç©ºæ†æ·±è¹²/è‡€æ¡¥çƒ­èº«"],
          exercises:[
            { title:"é«˜ä¸¾æ·±è¹²ï¼ˆGobletï¼‰", sets:"4Ã—8â€“12", rir:"", muscles:["ä¸»ï¼šè‚¡å››å¤´/è‡€å¤§è‚Œ","ç¨³ï¼šæ ¸å¿ƒ/ç«–è„Š"], cues:["è†éšè„šå°–","åº•åœ 1 s","æ•´è„šå‘åŠ›ç«™èµ·"] },
            { title:"å“‘é“ƒç½—é©¬å°¼äºšç¡¬æ‹‰ï¼ˆRDLï¼‰", sets:"4Ã—8â€“10", rir:"", muscles:["ä¸»ï¼šè…˜ç»³è‚Œ/è‡€å¤§è‚Œ","ç¨³ï¼šç«–è„Š"], cues:["é«‹ä¸»å¯¼åç§»ï¼ŒèƒŒä¸­ç«‹","æ²¿å¤§è…¿å‰ä¾§ä¸‹æ”¾","ä¸Šæ¥æ—¶æŒ¤è‡€"] },
            { title:"ä¿åŠ åˆ©äºšåˆ†è…¿è¹²", sets:"3Ã—8â€“12/ä¾§", rir:"", muscles:["ä¸»ï¼šè‚¡å››å¤´/è‡€å¤§è‚Œ"], cues:["å‰è„šå…¨è„šæŒå—åŠ›","è‡€å‘ä¸‹è€Œéèº«ä½“å‰å†²","ä¸Šèº«å¾®å‰å€¾"] },
            { title:"è‡€æ¡¥ / å‡³ä¸Šé«‹æ¨ï¼ˆæŒå“‘é“ƒï¼‰", sets:"3Ã—10â€“12", rir:"", muscles:["ä¸»ï¼šè‡€å¤§è‚Œ","è¾…ï¼šè…˜ç»³è‚Œ"], cues:["ä¸‹å·´å¾®æ”¶","é¡¶å³°éª¨ç›†åå€¾ 1â€“2 s"] },
            { title:"ç«™å§¿æè¸µ", sets:"4Ã—12â€“15", rir:"", muscles:["ä¸»ï¼šå°è…¿ï¼ˆè…“è‚ /æ¯”ç›®é±¼ï¼‰"], cues:["è„šè·Ÿå……åˆ†ä¸‹æ²‰","é¡¶ç«¯åœé¡¿"] },
            { title:"æ ¸å¿ƒå¾ªç¯ Ã—2â€“3", sets:"å¹³æ¿ 40â€“60 sï½œDead Bug 10â€“12/ä¾§ï½œä¾§æ¡¥ 30â€“45 s/ä¾§", rir:"", muscles:["æ ¸å¿ƒæ•´ä½“"], cues:["è‚‹éª¨ä¸‹å‹ã€éª¨ç›†ç¨³å®š"] },
          ],
          stretching:["å¼“æ­¥é«‹å±ˆè‚Œ/è‚¡å››å¤´","è…˜ç»³ï¼ˆæŠ¬é«˜å‰å±ˆï¼‰","æ¢¨çŠ¶è‚Œ/è‡€ï¼ˆé¸½å­å¼ï¼‰","å°è…¿å¢™é¢æ‹‰ä¼¸","çŒ«ç‰›å¼"],
          nutrition:[
            "è…¿å¤©é«˜ç¢³ï¼šä¹³æ¸… 1 å‹º + å¿«ç¢³ 40â€“60 g",
            "1â€“2 å°æ—¶ï¼šé¸¡èƒ¸ 180â€“220 g + ä¸»é£Ÿ 100â€“140 g + è„‚è‚ª 10â€“15 g",
            "è¡¥æ°´ 700â€“900 ml + ç”µè§£è´¨"
          ]
        },
        {
          id:"D4", name:"Push Bï¼ˆèƒ¸è‚©ä¸‰å¤´å˜å¼ï¼‰",
          warmup:["è½»æœ‰æ°§ â†’ è‚©/èƒ¸åŠ¨æ€ â†’ å§æ¨åŠ¨ä½œçƒ­èº«"],
          exercises:[
            { title:"ä¸Šæ–œå§æ¨", sets:"4Ã—6â€“10", rir:"", muscles:["ä¸»ï¼šèƒ¸ä¸ŠæŸ","è¾…ï¼šå‰ä¸‰è§’/ä¸‰å¤´"], cues:["åŒ D1 è¦é¢†"] },
            { title:"å¹³æ¿å§æ¨", sets:"3Ã—8â€“12", rir:"", muscles:["ä¸»ï¼šèƒ¸ä¸­æŸ"], cues:["åŒ D1 è¦é¢†"] },
            { title:"çª„æ¡/é’»çŸ³ä¿¯å§æ’‘", sets:"3Ã—10â€“15", rir:"", muscles:["ä¸»ï¼šè‚±ä¸‰å¤´/èƒ¸å†…ä¾§"], cues:["è‚˜è´´èº«ï¼Œåº•åœ 1 s"] },
            { title:"é˜¿è¯ºå¾·æ¨ä¸¾", sets:"3Ã—8â€“12", rir:"", muscles:["ä¸»ï¼šä¸‰è§’è‚Œå‰/ä¸­æŸ","è¾…ï¼šä¸‰å¤´"], cues:["ä¸‹æ–¹æŒå¿ƒå‘å†…ï¼Œä¸Šæ¨æ—‹å¤–åˆ°æŒå¿ƒå‘å‰"] },
            { title:"ä¾§å¹³ä¸¾ï¼ˆé™é‡ï¼‰", sets:"2Ã—15â€“20", rir:"", muscles:["ä¸»ï¼šä¸‰è§’è‚Œä¸­æŸ"], cues:["é¡¶ç«¯åœ 1 sï¼Œæœ€åä¸€ç»„å¯é™é‡è‡³æ¥è¿‘åŠ›ç«­"] },
            { title:"åè‡‚ä¼¸ / çª„æ¡ä¿¯å§æ’‘", sets:"2â€“3Ã—12â€“15", rir:"", muscles:["ä¸»ï¼šè‚±ä¸‰å¤´å¤–/å†…ä¾§å¤´"], cues:["ä¸Šè‡‚å®šç‚¹ï¼Œåªä¼¸è‚˜"] },
          ],
          stretching:["é—¨æ¡†èƒ¸è‚Œï¼ˆå¤šè§’åº¦ï¼‰","å‰ä¸‰è§’/èƒ¸å°è‚Œæ”¾æ¾","ä¸‰å¤´è¿‡é¡¶","é¢ˆæ–œæ–¹","ä¸Šèƒ¸æ–œè§’"],
          nutrition:[
            "ä¹³æ¸… 1 å‹º + å¿«ç¢³ 30â€“50 g",
            "æ­£é¤ï¼šé¸¡èƒ¸ 150â€“200 g + ä¸»é£Ÿ 80â€“120 g + è„‚è‚ª 10â€“15 g"
          ]
        },
        {
          id:"D5", name:"Pull Bï¼ˆèƒŒå˜å¼ + äºŒå¤´ï¼‰",
          warmup:["ä¸ŠèƒŒ/è‚©èƒ›æ¿€æ´» â†’ åˆ’èˆ¹çƒ­èº«"],
          exercises:[
            { title:"å•è‡‚åˆ’èˆ¹ï¼ˆæ‹‰å‘é«‹éƒ¨ï¼‰", sets:"4Ã—8â€“12/ä¾§", rir:"", muscles:["ä¸»ï¼šèƒŒé˜”ï¼ˆæ›´é›†ä¸­ï¼‰"], cues:["å‘é«‹æ‹‰å‡å°‘ä¸ŠèƒŒä»£å¿","ç¦»å¿ƒæ§åˆ¶"] },
            { title:"å“‘é“ƒè€¸è‚©ï¼ˆé¡¶å³°åœ 2 sï¼‰", sets:"3Ã—10â€“12", rir:"", muscles:["ä¸»ï¼šæ–œæ–¹ä¸Šéƒ¨"], cues:["å‘ä¸Šå‘åæï¼Œé¡¶å³°åœ 2 s"] },
            { title:"ä¿¯èº«åå‘é£é¸Ÿï¼ˆåå§¿ï¼‰", sets:"3Ã—12â€“15", rir:"", muscles:["ä¸»ï¼šåæŸ/ä¸­ä¸‹æ–œæ–¹"], cues:["åŒ D2-4 è¦é¢†"] },
            { title:"å“‘é“ƒä¸Šæ‹‰", sets:"3Ã—10â€“12", rir:"", muscles:["ä¸»ï¼šèƒŒé˜”"], cues:["åŒ D2-3 è¦é¢†"] },
            { title:"äº¤æ›¿å¼¯ä¸¾", sets:"3Ã—10â€“12/ä¾§", rir:"", muscles:["ä¸»ï¼šè‚±äºŒå¤´"], cues:["ç¦»å¿ƒ 3 sï¼›éå·¥ä½œä¾§ä¿æŒç­‰é•¿å¼ åŠ›"] },
            { title:"åå‘å·è…¹", sets:"2Ã—12â€“15", rir:"", muscles:["ä¸»ï¼šä¸‹è…¹"], cues:["å·éª¨ç›†è€Œéç”©è…¿ï¼›ä¸‹æ”¾è´´åœ°"] },
          ],
          stretching:["å•ä¾§èƒŒé˜”ä¾§å±ˆ","ç©¿é’ˆå¼•çº¿ + èƒ¸æ¤æ—‹è½¬","å‰ä¼¸æŠ±çƒï¼ˆè‚©èƒ›åˆ†ç¦»ï¼‰","äºŒå¤´èƒ¸å‰ä¼¸è‚˜","å‰è‡‚ä¼¸è‚Œ"],
          nutrition:[
            "ä¹³æ¸… 1 å‹º + å¿«ç¢³ 30â€“50 g",
            "æ­£é¤ï¼šé¸¡èƒ¸ 150â€“200 g + ä¸»é£Ÿ 80â€“120 g + è„‚è‚ª 10 g"
          ]
        },
        {
          id:"D6", name:"Legs B & æ ¸å¿ƒ",
          warmup:["é«‹/è¸/è†åŠ¨æ€ â†’ ç©ºæ†æ·±è¹²/è‡€æ¡¥çƒ­èº«"],
          exercises:[
            { title:"ç›¸æ‰‘é«˜ä¸¾æ·±è¹²", sets:"4Ã—8â€“12", rir:"", muscles:["ä¸»ï¼šå†…æ”¶/è‡€/è‚¡å››å¤´"], cues:["ç«™è·æ›´å®½ã€è„šå°–å¤–å¼€ 20â€“30Â°","è†éšè„šå°–"] },
            { title:"è¡Œèµ°å¼“æ­¥", sets:"3Ã—10â€“12/ä¾§", rir:"", muscles:["ä¸»ï¼šè‚¡å››å¤´/è‡€ä¸­å¤§è‚Œ"], cues:["æ­¥å¹…ä¸­é•¿ï¼Œå‰è„šå…¨è„šæŒå‘åŠ›"] },
            { title:"å°é˜¶ä¸Šè¸", sets:"3Ã—10â€“12/ä¾§", rir:"", muscles:["ä¸»ï¼šè‚¡å››å¤´/è‡€"], cues:["ä¸Šè¸è…¿å®Œæˆä¸»åŠ›ï¼Œæ…¢ç¦»å¿ƒä¸‹å°"] },
            { title:"RDLï¼ˆæ…¢ç¦»å¿ƒ 4 sï¼‰", sets:"3Ã—8â€“10", rir:"", muscles:["ä¸»ï¼šè…˜ç»³/è‡€"], cues:["æ§åˆ¶ç¦»å¿ƒ 4 ç§’"] },
            { title:"å•è…¿æè¸µ", sets:"3Ã—12â€“15/ä¾§", rir:"", muscles:["ä¸»ï¼šå°è…¿"], cues:["åŒ D3-5 è¦é¢†"] },
            { title:"æ ¸å¿ƒå¾®å¾ªç¯ Ã—2â€“3", sets:"æ‚¬ç©ºæŠ˜åˆ€ 10â€“12ï½œä¾§å‘ç™»å±± 20ï½œé¸Ÿç‹— 10â€“12/ä¾§", rir:"", muscles:["æ ¸å¿ƒæ•´ä½“"], cues:["éª¨ç›†ç¨³å®šã€å››è‚¢å¯¹ä¾§ä¼¸å±•"] },
          ],
          stretching:["æ²™å‘æ‹‰ä¼¸/å‡³ä¸Šè‚¡å››å¤´","ç›¸æ‰‘å¼€è·¨ï¼ˆå†…æ”¶ï¼‰","è…˜ç»³å‡³ä¸Š","è‡€ä¸­è‚Œä¾§å¼¯","æ¯”ç›®é±¼ï¼ˆå±ˆè†å°è…¿ï¼‰"],
          nutrition:[
            "è…¿å¤©é«˜ç¢³ï¼šä¹³æ¸… 1 å‹º + å¿«ç¢³ 50â€“70 g",
            "1â€“2 å°æ—¶ï¼šé¸¡èƒ¸ 200â€“250 g + ä¸»é£Ÿ 120â€“160 g + å¤§ä»½è”¬èœ",
            "ç¡å‰æœªè¾¾æ ‡å¯åŠ ï¼šä¹³æ¸… 0.5â€“1 å‹º"
          ]
        },
        {
          id:"D7", name:"ä¸»åŠ¨æ¢å¤",
          warmup:["30â€“45â€² ä½å¼ºåº¦æœ‰æ°§ï¼ˆå¿«èµ°/éª‘è¡Œï¼‰"],
          exercises:[{ title:"è½»æ‹‰ä¼¸æ¸…å•", sets:"å„ 20â€“30 s Ã—1â€“2", rir:"", muscles:["èƒ¸è‚Œ","èƒŒé˜”ï¼ˆä¾§å‘å©´å„¿å¼ï¼‰","é«‹å±ˆè‚Œ","è…˜ç»³","å°è…¿","é¢ˆæ–œæ–¹"], cues:["ä¿æŒæ¸©å’Œç‰µæ‹‰ã€å‘¼å¸æ”¾æ…¢"] }],
          stretching:["èƒ¸è‚Œ","èƒŒé˜”ä¾§å‘å©´å„¿å¼","é«‹å±ˆè‚Œ","è…˜ç»³è‚Œ","å°è…¿","é¢ˆæ–œæ–¹"],
          nutrition:[
            "æ€»çƒ­é‡è¾ƒè®­ç»ƒæ—¥å°‘ 150â€“250 kcalï¼›è›‹ç™½ä¸é™ï¼ˆ115â€“140 g/æ—¥ï¼‰",
            "ä¾‹ï¼šé¸¡èƒ¸ä¸‰é¤ï¼ˆæ€» 400â€“500 g ç†Ÿé‡ï¼‰+ é€‚é‡ä¸»é£Ÿï¼ˆæ¯”è®­ç»ƒæ—¥å°‘ä¸€å°ç¢—ï¼‰+ ä¹³æ¸…æŒ‰éœ€è¡¥é½"
          ]
        }
      ]
    };

    // â€”â€” çŠ¶æ€ä¸æ¸²æŸ“ â€”â€”
    const state = {
      plan: structuredClone(loadPlan() || planData),
      dayIndex: 0,
      query: ""
    };

    function loadPlan(){
      try{ const raw = localStorage.getItem('workout-plan-json'); return raw? JSON.parse(raw): null }catch(e){ return null }
    }
    function savePlan(){ localStorage.setItem('workout-plan-json', JSON.stringify(state.plan)) }

    const dayListEl = document.getElementById('dayList');
    const dayTitleEl = document.getElementById('dayTitle');
    const warmupEl = document.getElementById('warmup');
    const exGridEl = document.getElementById('exerciseGrid');
    const stretchingEl = document.getElementById('stretching');
    const nutritionEl = document.getElementById('nutrition');

    function renderDayButtons(){
      dayListEl.innerHTML = '';
      state.plan.days.forEach((d, i)=>{
        const btn = document.createElement('button');
        btn.className = 'day-btn' + (i===state.dayIndex? ' active':'');
        btn.innerHTML = `<span><strong>${d.id}</strong> Â· ${d.name}</span><small>æŸ¥çœ‹</small>`;
        btn.onclick = ()=>{ state.dayIndex = i; renderAll(); window.scrollTo({top:0,behavior:'smooth'}) };
        dayListEl.appendChild(btn);
      });
    }

    function htmlList(items){ if(!items || !items.length) return '<div class="empty">â€”</div>'; return `<ul class="cues">${items.map(x=>`<li>${x}</li>`).join('')}</ul>` }

    function keyForCheck(dayIdx, title){ return `done:${dayIdx}:${title}` }

    function renderDay(){
      const day = state.plan.days[state.dayIndex];
      dayTitleEl.textContent = `${day.id}ï½œ${day.name}`;
      warmupEl.innerHTML = htmlList(day.warmup);

      // Exercises
      exGridEl.innerHTML = '';
      const query = state.query.trim().toLowerCase();
      const list = (day.exercises||[]).filter(ex=> !query || ex.title.toLowerCase().includes(query) || (ex.muscles||[]).join(',').toLowerCase().includes(query));
      list.forEach(ex=>{
        const card = document.createElement('div');
        card.className = 'ex-card';
        const key = keyForCheck(state.dayIndex, ex.title);
        const done = localStorage.getItem(key)==='1';
        card.innerHTML = `
          <div class="ex-top">
            <div class="check ${done? 'done':''}" role="checkbox" aria-checked="${done}" title="ç‚¹å‡»å‹¾é€‰å®Œæˆ"></div>
            <div>
              <div class="title">${ex.title}</div>
              <div class="meta">${ex.sets?`ç»„æ¬¡ï¼š${ex.sets}`:''}${ex.rir?` Â· ${ex.rir}`:''}</div>
            </div>
          </div>
          <div class="muscles">${(ex.muscles||[]).map(m=>`<span class="m">${m}</span>`).join('')}</div>
          ${htmlList(ex.cues)}
          <div class="links">${(ex.links||[]).map(l=>`<a target="_blank" rel="noopener" href="${l.href}">ğŸ”— ${l.label}</a>`).join('')}</div>
        `;
        const chk = card.querySelector('.check');
        chk.addEventListener('click', ()=>{
          const newDone = !chk.classList.contains('done');
          chk.classList.toggle('done');
          localStorage.setItem(key, newDone? '1':'0');
        });
        exGridEl.appendChild(card);
      });

      // Stretching & Nutrition
      stretchingEl.innerHTML = htmlList(day.stretching);
      nutritionEl.innerHTML = htmlList(day.nutrition);
    }

    function renderAll(){
      renderDayButtons();
      renderDay();
    }

    // â€”â€” äº¤äº’ï¼šå¯¼å…¥/å¯¼å‡º/æ‰“å°/ä¸»é¢˜/æœç´¢ â€”â€”
    document.getElementById('importBtn').addEventListener('click', ()=> document.getElementById('filePicker').click());
    document.getElementById('filePicker').addEventListener('change', (e)=>{
      const file = e.target.files?.[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = ()=>{
        try{
          const json = JSON.parse(reader.result);
          if(!json.days || !Array.isArray(json.days)) throw new Error('æ ¼å¼ä¸æ­£ç¡®ï¼šç¼ºå°‘ days æ•°ç»„');
          state.plan = json; state.dayIndex = 0; savePlan(); renderAll();
          alert('å¯¼å…¥æˆåŠŸï¼è®¡åˆ’å·²æ›´æ–°å¹¶ä¿å­˜åˆ°æ­¤è®¾å¤‡ã€‚');
        }catch(err){ alert('å¯¼å…¥å¤±è´¥ï¼š' + err.message) }
      };
      reader.readAsText(file, 'utf-8');
      e.target.value = '';
    });

    document.getElementById('exportBtn').addEventListener('click', ()=>{
      const blob = new Blob([JSON.stringify(state.plan, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'training-plan.json'; a.click();
      URL.revokeObjectURL(url);
    });

    document.getElementById('printBtn').addEventListener('click', ()=> window.print());

    const THEME_KEY = 'plan-theme-light';
    function applyTheme(){ const isLight = localStorage.getItem(THEME_KEY)==='1'; document.documentElement.classList.toggle('light', isLight) }
    applyTheme();
    document.getElementById('themeBtn').addEventListener('click', ()=>{ const cur = localStorage.getItem(THEME_KEY)==='1'; localStorage.setItem(THEME_KEY, cur? '0':'1'); applyTheme(); })

    document.getElementById('search').addEventListener('input', (e)=>{ state.query = e.target.value; renderDay(); })

    // åˆæ¬¡æ¸²æŸ“
    renderAll();
  </script>
</body>
</html>
